{"version":3,"sources":["domain/PrivilegeChecker/index.js"],"names":["PrivilegeChecker","state","privilege","get","not","string","empty","privileges","object","isList","items","regEx","RegExp","find","item","test"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;;;;;IAEqBA,gB;;;;;;;iCACCC,K,EAAOC,S,EAAW;AACpC,UAAI,iBAAOC,GAAP,CAAW,cAAX,MAA+B,IAAnC,EAAyC;AACvC,eAAO,IAAP;AACD;;AAED,UAAI,gBAAGC,GAAH,CAAOC,MAAP,CAAcH,SAAd,KAA4B,gBAAGI,KAAH,CAASJ,SAAT,CAAhC,EAAqD;AACnD,eAAO,KAAP;AACD;;AAED,UAAMK,aAAaN,MAAME,GAAN,CAAU,YAAV,CAAnB;AACA,UAAI,gBAAGC,GAAH,CAAOI,MAAP,CAAcD,UAAd,KAA6B,CAAE,gBAAKE,MAAL,CAAYF,WAAWG,KAAvB,CAAnC,EAAkE;AAChE,eAAO,KAAP;AACD;;AAED,UAAMC,QAAQ,IAAIC,MAAJ,CAAcV,SAAd,QAA4B,GAA5B,CAAd;AACA,aAAO,CAAC,CAAEK,WAAWG,KAAX,CAAiBG,IAAjB,CAAsB,UAACC,IAAD;AAAA,eAAUH,MAAMI,IAAN,CAAWD,IAAX,CAAV;AAAA,OAAtB,CAAV;AACD;;;;;;kBAjBkBd,gB","file":"index.js","sourcesContent":["import is from 'is_js';\nimport { List } from 'immutable';\nimport Config from 'domain/Config';\n\nexport default class PrivilegeChecker {\n  static hasPrivilege(state, privilege) {\n    if (Config.get('featureLogin') !== true) {\n      return true;\n    }\n\n    if (is.not.string(privilege) || is.empty(privilege)) {\n      return false;\n    }\n\n    const privileges = state.get('privileges');\n    if (is.not.object(privileges) || ! List.isList(privileges.items)) {\n      return false;\n    }\n\n    const regEx = new RegExp(`${privilege}$`, 'i');\n    return !! privileges.items.find((item) => regEx.test(item));\n  }\n}\n"]}