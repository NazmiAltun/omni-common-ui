{"version":3,"sources":["containers/ApiCalls/reducer.js"],"names":["apiCalls","state","action","type","API_CALL_CLEAN","remove","key","Action","isApiAction","Key","create","isStarted","newState","State","createLoading","disableDefault","set","isSuccess","createSucceeded","isFailure","createFailed","error"],"mappings":";;;;;kBAGwBA,Q;;AAHxB;;AACA;;;;;;AAEe,SAASA,QAAT,GAAyC;AAAA,MAAvBC,KAAuB,uEAAf,qBAAe;AAAA,MAARC,MAAQ;;AACtD,MAAIA,OAAOC,IAAP,KAAgB,WAAQC,cAA5B,EAA4C;AAC1C,WAAOH,MAAMI,MAAN,CAAaH,OAAOI,GAApB,CAAP;AACD;;AAED,MAAI,CAAE,WAAQC,MAAR,CAAeC,WAAf,CAA2BN,MAA3B,CAAN,EAA0C;AACxC,WAAOD,KAAP;AACD;;AAED,MAAMK,MAAM,WAAQG,GAAR,CAAYC,MAAZ,CAAmBR,MAAnB,CAAZ;AACA,MAAI,WAAQK,MAAR,CAAeI,SAAf,CAAyBT,MAAzB,CAAJ,EAAsC;AACpC,QAAMU,WAAW,WAAQC,KAAR,CAAcC,aAAd,CAA4BR,GAA5B,EAAiC,EAAES,gBAAgBb,OAAOa,cAAzB,EAAjC,CAAjB;AACA,WAAOd,MAAMe,GAAN,CAAUV,GAAV,EAAeM,QAAf,CAAP;AACD;;AAED,MAAI,WAAQL,MAAR,CAAeU,SAAf,CAAyBf,MAAzB,CAAJ,EAAsC;AACpC,WAAOD,MAAMe,GAAN,CAAUV,GAAV,EAAe,WAAQO,KAAR,CAAcK,eAAd,CAA8BZ,GAA9B,CAAf,CAAP;AACD;;AAED,MAAI,WAAQC,MAAR,CAAeY,SAAf,CAAyBjB,MAAzB,CAAJ,EAAsC;AACpC,QAAMU,YAAW,WAAQC,KAAR,CAAcO,YAAd,CAA2Bd,GAA3B,EACbJ,OAAOmB,KADM,EAEb,EAAEN,gBAAgBb,OAAOa,cAAzB,EAFa,CAAjB;AAGA,WAAOd,MAAMe,GAAN,CAAUV,GAAV,EAAeM,SAAf,CAAP;AACD;;AAED,SAAOX,KAAP;AACD","file":"reducer.js","sourcesContent":["import { Map } from 'immutable';\nimport ApiCall from './';\n\nexport default function apiCalls(state = Map(), action) {\n  if (action.type === ApiCall.API_CALL_CLEAN) {\n    return state.remove(action.key);\n  }\n\n  if (! ApiCall.Action.isApiAction(action)) {\n    return state;\n  }\n\n  const key = ApiCall.Key.create(action);\n  if (ApiCall.Action.isStarted(action)) {\n    const newState = ApiCall.State.createLoading(key, { disableDefault: action.disableDefault });\n    return state.set(key, newState);\n  }\n\n  if (ApiCall.Action.isSuccess(action)) {\n    return state.set(key, ApiCall.State.createSucceeded(key));\n  }\n\n  if (ApiCall.Action.isFailure(action)) {\n    const newState = ApiCall.State.createFailed(key,\n        action.error,\n        { disableDefault: action.disableDefault });\n    return state.set(key, newState);\n  }\n\n  return state;\n}\n"]}