{"version":3,"sources":["containers/SingleSignOn/SingleSignOnCallback.jsx"],"names":["SingleSignOnCallback","props","debug","successCallback","errorCallback","sessionStorage","lastUrlPath","redirect","error","dispatch","propTypes","func","isRequired"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAEA,IAAMA,uBAAuB,SAAvBA,oBAAuB,CAACC,KAAD,EAAW;AACtC,gBAAIC,KAAJ,CAAU,gCAAV;AACA,SAAO;AAAA;AAAA,MAAmB,aAAa,sCAAhC;AACH,uBAAiBC,eADd;AAEH,qBAAeC,aAFZ;AAIL;AAAA;AAAA,QAAK,WAAU,MAAf;AACE,6CAAK,WAAU,eAAf;AADF;AAJK,GAAP;;AASA,WAASD,eAAT,GAA2B;AACzB,kBAAID,KAAJ,CAAU,oCAAV,EAAgDG,eAAeC,WAA/D;AACAC;AACD;;AAED,WAASH,aAAT,CAAuBI,KAAvB,EAA8B;AAC5B,kBAAIA,KAAJ,CAAU,sCAAV,EAAkDA,KAAlD;AACAD;AACD;;AAED,WAASA,QAAT,GAAoB;AAClBN,UAAMQ,QAAN,CAAe,+BAAQJ,eAAeC,WAAf,IAA8B,EAAtC,CAAf;AACD;AACF,CAxBD;;AA0BAN,qBAAqBU,SAArB,GAAiC;AAC/BD,YAAU,oBAAUE,IAAV,CAAeC;AADM,CAAjC;;kBAIe,2BAAU,oBAAKZ,oBAAL,CAAV,C","file":"SingleSignOnCallback.js","sourcesContent":["import React from 'react';\nimport pure from 'recompose/pure';\nimport { connect } from 'react-redux';\nimport { replace } from 'react-router-redux';\nimport log from 'domain/log';\nimport PropTypes from 'prop-types';\nimport { CallbackComponent } from './';\nimport { createUserManager } from 'data/SingleSignOn';\n\nconst SingleSignOnCallback = (props) => {\n  log.debug('SingleSignOnCallback - called!');\n  return <CallbackComponent userManager={createUserManager()}\n      successCallback={successCallback}\n      errorCallback={errorCallback}>\n    {/* Loading spinner */}\n    <div className=\"pace\">\n      <div className=\"pace-activity\" />\n    </div>\n  </CallbackComponent>;\n\n  function successCallback() {\n    log.debug('SingleSignOnCallback - lastUrlPath', sessionStorage.lastUrlPath);\n    redirect();\n  }\n\n  function errorCallback(error) {\n    log.error('SingleSignOnCallback - errorCallback', error);\n    redirect();\n  }\n\n  function redirect() {\n    props.dispatch(replace(sessionStorage.lastUrlPath || ''));\n  }\n};\n\nSingleSignOnCallback.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n};\n\nexport default connect()(pure(SingleSignOnCallback));\n"]}