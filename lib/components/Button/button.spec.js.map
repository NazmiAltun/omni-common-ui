{"version":3,"sources":["components/Button/button.spec.jsx"],"names":["describe","it","Type","to","equal","wrapper","contains","be","true","find","have","length","prop","throw","primary","__primary","default","__default","__block","type","onClick","spy","simulate","called","done","setTimeout","descendants","__active","promise","Promise","resolve","not","false"],"mappings":"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","file":"button.spec.js","sourcesContent":["import styles from './style.postcss';\n\nimport React from 'react';\nimport { Link } from 'react-router';\nimport { shallow, mount } from 'enzyme';\nimport { expect } from 'chai';\nimport Sinon from 'sinon';\nimport Button from './';\nimport { Type } from './type';\n\ndescribe('Button', () => {\n  it('contains Type object', () => {\n    expect(Button.Type).to.equal(Type);\n  });\n\n  it('renders its children', () => {\n    const wrapper = shallow(<Button><div id=\"innerContent\" /></Button>);\n    expect(wrapper.contains(<div id=\"innerContent\" />)).to.be.true;\n  });\n\n  it('renders a Link when linkTo is provided', () => {\n    const wrapper = shallow(<Button linkTo=\"/\" />);\n    expect(wrapper.find(Link)).to.have.length(1);\n  });\n\n  it('will open link in a new Tab if newTab is provided', () => {\n    const wrapper = shallow(<Button linkHref=\"/\" newTab />);\n    expect(wrapper.prop('target')).to.equal('_blank');\n  });\n\n  it('thows error if invalid type is passed', () => {\n    expect(() => shallow(<Button type=\"faketype\" />)).to.throw();\n  });\n\n  it('applies proper styles if Type.primary is passed', () => {\n    const wrapper = shallow(<Button type={Type.primary} />);\n    expect(wrapper.find(`.${styles.__primary}`)).to.have.length(1);\n  });\n\n  it('applies proper styles if Type.default is passed', () => {\n    const wrapper = shallow(<Button type={Type.default} />);\n    expect(wrapper.find(`.${styles.__default}`)).to.have.length(1);\n  });\n\n  it('uses Type.default if no type is provided', () => {\n    const wrapper = shallow(<Button />);\n    expect(wrapper.find(`.${styles.__default}`).length).to.equal(1);\n  });\n\n  it('uses block styles if block property is provided', () => {\n    const wrapper = shallow(<Button block />);\n    expect(wrapper.find(`.${styles.__block}`).length).to.equal(1);\n  });\n\n  it('uses block styles on Link and itself if block propery is provided', () => {\n    const wrapper = shallow(<Button linkTo=\"/\" block />);\n    expect(wrapper.find(`.${styles.__block}`).length).to.equal(2);\n  });\n\n  it('applies custom attrs when provided', () => {\n    const wrapper = shallow(<Button attrs={{ type: 'submit' }} />);\n    expect(wrapper.find('button[type=\"submit\"]').length).to.equal(1);\n  });\n\n  describe('when clicked', () => {\n    it('calls onClick', () => {\n      const onClick = Sinon.spy();\n      const wrapper = shallow(<Button onClick={onClick} />);\n      wrapper.simulate('click');\n      expect(onClick.called).to.be.true;\n    });\n\n    it('sets the .__active class after 100ms', (done) => {\n      const wrapper = mount(<Button onClick={() => {}} />);\n      wrapper.simulate('click');\n      setTimeout(() => {\n        expect(wrapper).to.have.descendants(`.${styles.__active}`);\n        done();\n      }, 150);\n    });\n\n    it('removes the .__active class when onClick promise is resolved', (done) => {\n      const promise = new Promise((resolve) => {\n        setTimeout(() => {\n          resolve();\n        }, 10);\n      });\n      const wrapper = mount(<Button onClick={() => promise}\n          onClickActiveClassAddDelay={0} />);\n      wrapper.simulate('click');\n      setTimeout(() => {\n        expect(wrapper.find(`.${styles.__active}`).length).to.equal(0);\n        done();\n      }, 50);\n    });\n\n    it('does not fail if onClick is not provided', () => {\n      const wrapper = shallow(<Button />);\n      expect(() => wrapper.simulate('click')).to.not.throw();\n    });\n\n    it('does nothing if it is disabled', () => {\n      const onClick = Sinon.spy();\n      const wrapper = shallow(<Button onClick={onClick} disabled />);\n      wrapper.simulate('click');\n      expect(onClick.called).to.be.false;\n    });\n  });\n});\n"]}