{"version":3,"sources":["components/InputSelect/index.jsx"],"names":["InputSelect","props","initOption","not","undefined","optionList","value","defaultOption","state","selectedOption","selectedText","name","handleChange","bind","updateState","option","array","find","setState","e","target","onChange","optionKeys","className","selectClassName","labelClassName","disabledDefaultOption","nameIdentified","classes","selectClasses","InputSelect_select","labelClasses","InputSelect_name","renderOptions","object","map","key","item","id","myStyle","labelName","disabled","selectStyle","required","display","propTypes","PropTypes","oneOfType","isRequired","string","bool","func","shape","number","defaultProps"],"mappings":"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","file":"index.js","sourcesContent":["import styles from './style.postcss';\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport is from 'is_js';\nimport _ from 'lodash';\n\nexport default class InputSelect extends Component {\n  constructor(props) {\n    super(props);\n\n    const initOption = is.not.undefined(props.optionList[props.value]) ?\n      props.optionList[props.value] :\n      props.defaultOption;\n    this.state = {\n      value: props.value,\n      selectedOption: initOption,\n      selectedText: is.not.undefined(initOption) ? initOption.name : '',\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.updateState = this.updateState.bind(this);\n  }\n\n  componentWillReceiveProps(props) {\n    this.updateState(props.value);\n  }\n\n  updateState(value) {\n    const props = this.props;\n    let option;\n    if (is.array(props.optionList)) {\n      option = _.find(props.optionList, ['id', value]);\n    } else {\n      option = is.not.undefined(props.optionList[value]) ?\n       props.optionList[value] :\n       props.defaultOption;\n    }\n\n    this.setState({\n      value,\n      selectedOption: option,\n      selectedText: is.not.undefined(option) ? option.name : '',\n    });\n  }\n\n  handleChange(e) {\n    this.updateState(e.target.value);\n    this.props.onChange(e);\n  }\n\n  render() {\n    const {\n      optionKeys,\n      optionList,\n      className,\n      selectClassName,\n      labelClassName,\n      defaultOption,\n      disabledDefaultOption,\n      nameIdentified,\n    } = this.props;\n    const classes = classnames(styles.InputSelect, className);\n    const selectClasses = classnames(selectClassName, styles.InputSelect_select);\n    const labelClasses = classnames(labelClassName, styles.InputSelect_name);\n\n    function renderOptions() {\n      if (optionKeys && is.object(optionList)) {\n        return optionKeys.map((key) =>\n          <option value={key}>{optionList[key] ? optionList[key].name : ''}</option>);\n      }\n\n      if (! optionKeys && is.array(optionList)) {\n        if (! nameIdentified) {\n          return optionList.map((item) => <option value={item.id}>{item.name}</option>);\n        }\n        return optionList.map((item) => <option value={item.name}>{item.name}</option>);\n      }\n    }\n    return (\n      <div className={classes} style={this.props.myStyle}>\n        {\n          this.props.labelName ?\n            <span className={labelClasses}>\n              {this.props.labelName}\n            </span> :\n            ''\n        }\n\n        <select className={selectClasses}\n            disabled={this.props.disabled}\n            style={this.props.selectStyle}\n            onChange={this.handleChange}\n            value={this.props.value}\n            required={this.props.required}>\n          {\n            <option value={is.object(defaultOption) ? defaultOption.key : ''}\n                disabled={disabledDefaultOption}\n                style={{ display: disabledDefaultOption ? 'none' : 'block' }}>\n              {is.object(defaultOption) ? defaultOption.name : defaultOption}\n            </option>\n          }\n          {renderOptions()}\n        </select>\n      </div>\n    );\n  }\n}\n\nInputSelect.propTypes = {\n  optionList: React.PropTypes.oneOfType([\n    React.PropTypes.object,\n    React.PropTypes.array,\n  ]),\n  optionKeys: React.PropTypes.array.isRequired,\n  myStyle: React.PropTypes.object,\n  selectStyle: React.PropTypes.object,\n  className: React.PropTypes.string,\n  selectClassName: React.PropTypes.string,\n  labelClassName: React.PropTypes.string,\n  value: React.PropTypes.string,\n  labelName: React.PropTypes.string,\n  disabled: React.PropTypes.bool,\n  required: React.PropTypes.bool,\n  onChange: React.PropTypes.func,\n  defaultOption: React.PropTypes.oneOfType([\n    React.PropTypes.string,\n    React.PropTypes.shape({\n      key: React.PropTypes.oneOfType([\n        React.PropTypes.string,\n        React.PropTypes.number,\n      ]),\n      name: React.PropTypes.string,\n    }),\n  ]),\n  disabledDefaultOption: React.PropTypes.bool,\n  nameIdentified: React.PropTypes.bool,\n};\n\nInputSelect.defaultProps = {\n  nameIdentified: false,\n  disabledDefaultOption: false,\n  optionList: {},\n};\n"]}